webpackJsonp([2],{"9M+g":function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e(this.layout,{tag:"component"}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App",computed:{layout:function(){return(this.$route.meta.layout||"pages")+"-layout"}}},a,!1,function(t){n("WkQT")},null,null).exports,s=n("/ocq"),i={render:function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v(" 404 No se encontro resultado para esta pagina ")])},staticRenderFns:[]},u=n("VU/8")(null,i,!1,null,null,null).exports,c=function(){return localStorage.getItem("access_token")},l=function(t){localStorage.setItem("access_token",t)},d=function(){localStorage.removeItem("access_token")};o.default.use(s.a);var m=new s.a({routes:[{path:"/login",name:"Login",meta:{layout:"pages"}},{path:"/",name:"Home",meta:{layout:"bar"},component:function(){return n.e(0).then(n.bind(null,"j7e0"))}},{path:"**",name:"Not-Found  ",meta:{layout:"notfound"}}]});m.beforeEach(function(t,e,n){var o=c();if(o)"/login"==t.path?n({path:e.path}):n();else{if("/login"!=t.path||o)return n({path:"/login"});n()}});var f=m,p=n("Tqaz"),v=(n("Jmt5"),n("9M+g"),{data:function(){return{}},methods:{logout:function(){d(),f.push("/login")}}}),b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[n("b-navbar-brand",{attrs:{href:"#"}},[t._v("NavBar")]),t._v(" "),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t._v(" "),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{href:"#"}},[t._v("Link")]),t._v(" "),n("b-nav-item",{attrs:{href:"#",disabled:""}},[t._v("Disabled")])],1),t._v(" "),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-form",[n("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"Search"}}),t._v(" "),n("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"submit"}},[t._v("Search")])],1),t._v(" "),n("b-nav-item-dropdown",{attrs:{text:"Lang",right:""}},[n("b-dropdown-item",{attrs:{href:"#"}},[t._v("EN")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"}},[t._v("ES")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"}},[t._v("RU")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"}},[t._v("FA")])],1),t._v(" "),n("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("em",[t._v("User")])]},proxy:!0}])},[t._v(" "),n("b-dropdown-item",{attrs:{href:"#"}},[t._v("Profile")]),t._v(" "),n("b-dropdown-item",{on:{click:function(e){return t.logout()}}},[t._v("Cerrar sesión")])],1)],1)],1)],1)],1)},staticRenderFns:[]},h=n("VU/8")(v,b,!1,null,null,null).exports,_=n("mtWM"),g=n.n(_),w={init:function(t){g.a.defaults.baseURL=t},setHeader:function(){g.a.defaults.headers.common.Authorization="Token "+c()},removeHeader:function(){g.a.defaults.headers.common={}},get:function(t){return g.a.get(t)},post:function(t,e){return g.a.post(t,e)},put:function(t,e){return g.a.put(t,e)},delete:function(t){return g.a.delete(t)},customRequest:function(t){return g()(t)}},y="/chimpance/users/login_archu/",k={name:"Login",data:function(){return{error:!1,form:{password:"",username:""},dismissSecs:30,dismissCountDown:0,message:"",status:""}},methods:{login:function(){var t=this;w.post(y,this.form).then(function(e){e.data.ok?(t.message="Hola "+e.data.name+", te hemos enviado un correo electronico",t.status="info"):(t.message="Este correo no esta registrado",t.status="danger"),t.showAlert()})},onSubmit:function(t){var e=this;w.post(y,this.form).then(function(t){console.log(t.data),t.data.ok?(e.error=!1,l(t.data.token),f.push("/")):e.error=!0})},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("b-card",{staticClass:"mb-2 bg-slick-carbon",staticStyle:{"max-width":"50rem","text-color":"red"},attrs:{title:"Iniciar sesión","header-tag":"header","footer-tag":"footer"}},[n("b-form",{on:{submit:t.onSubmit}},[n("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Correo electrónico o nombre de usuario"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-2",required:"",type:"password",placeholder:"Contraseña"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),t.error?n("span",{staticStyle:{color:"red"}},[t._v("El usuario o contraseña son incorrectos")]):t._e(),t._v(" "),n("b-button",{attrs:{block:"",variant:"primary"}},[t._v("Iniciar sesión")]),t._v(" "),n("hr"),t._v(" "),n("b-button",{attrs:{variant:"success"}},[t._v("Crear cuenta nueva")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("b-button",{staticClass:"mb-2 ",attrs:{size:"sm",variant:"outline-light"},on:{click:t.login}},[t._v("Iniciar con BBVArchuletas")])],1),t._v(" "),n("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.status},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v("\n        "+t._s(t.message)+"\n      ")])],1)],1)},staticRenderFns:[]};var S=n("VU/8")(k,C,!1,function(t){n("SIkw")},"data-v-af6b70e6",null).exports;o.default.use(p.a),o.default.use(p.b),o.default.component("pages-layout",S),o.default.component("bar-layout",h),o.default.component("notfound-layout",u),o.default.config.productionTip=!1,w.init("http://ec2-18-223-113-64.us-east-2.compute.amazonaws.com:8000"),new o.default({el:"#app",router:f,components:{App:r},template:"<App/>"})},SIkw:function(t,e){},WkQT:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8f27936eaa80a5d4b542.js.map